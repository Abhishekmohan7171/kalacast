<section class="pricing">
  <div class="pricing__content">
    <h2 class="pricing__title">big or small?<br>i have a plan.</h2>

    <div class="pricing__toggle">
      <button 
        class="toggle-btn"
        [class.active]="!isProducer()"
        (click)="toggleUserType()"
        [attr.aria-pressed]="!isProducer()"
        aria-label="Actor pricing">
        actors
      </button>
      <div class="toggle-switch" (click)="toggleUserType()" role="switch" [attr.aria-checked]="isProducer()">
        <div class="toggle-knob" [class.active]="isProducer()"></div>
      </div>
      <button 
        class="toggle-btn"
        [class.active]="isProducer()"
        (click)="toggleUserType()"
        [attr.aria-pressed]="isProducer()"
        aria-label="Producer pricing">
        producers
      </button>
    </div>

    <div class="pricing__cards">
      @for (plan of currentPlans(); track plan.name) {
        <div class="pricing-card">
          <div class="pricing-card__header">
            <div class="pricing-card__price">
              <span class="currency">₹</span>
              <span class="amount">&#8377;{{ plan.price | number:'1.0-0' }}</span>
              <span class="period">/{{ plan.period }}</span>
            </div>
            <button class="expand-btn" aria-label="Expand plan details">+</button>
          </div>

          <div class="pricing-card__body">
            <div class="pricing-card__name">
              {{ plan.name }}
            </div>
            <p class="pricing-card__description">{{ plan.description }}</p>
            @if (plan.saveText) {
              <p class="pricing-card__save">{{ plan.saveText }}</p>
            }

            <div class="pricing-card__features">
              <h4>what's included</h4>
              <ul>
                @for (feature of plan.features; track feature.text) {
                  <li [class.disabled]="!feature.included">
                    <span class="checkmark">{{ feature.included ? '✓' : '✗' }}</span>
                    {{ feature.text }}
                  </li>
                }
              </ul>
            </div>
          </div>
        </div>
      }
    </div>
  </div>
</section>
